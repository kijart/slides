<html>
  <head>
    <meta charset="utf-8">
    <title>Mixed HTML and jQuery example</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.6/handlebars.min.js"></script>
  </head>
  <body>
    <div id="list"></div>

    <script id="accounts-template" type="text/x-handlebars-template">
      <h1>Total accounts: {{totalAccounts}}</h1>
      <h2>Active accounts</h2>
      <ul>
        {{#each accounts}}
          {{#if isActive}}
            <li>
              <img src="{{picture}}" alt="{{name.first}} {{name.last}}" />
              {{name.first}} {{name.last}} (<a href="mailto:{{email}}">{{email}}</a>)
            </li>
          {{/if}}
        {{/each}}
      </ul>
    </script>

    <script type="text/javascript">
      // Register a helper
      Handlebars.registerHelper('capitalize', function(str) {
        str = str || '';
        return str.slice(0,1).toUpperCase() + str.slice(1);
      });

      // Register a block helper
      Handlebars.registerHelper('uppercase', function(options) {
        return options.fn(this).toUpperCase();
      });

      var accounts = [
        {
          "age": 30,
          "company": "MOMENTIA",
          "createdAt": 1416550037613,
          "email": "reynolds.hartman@momentia.biz",
          "isActive": true,
          "name": {
            "first": "Reynolds",
            "last": "Hartman"
          },
          "picture": "http://lorempixel.com/100/100/people/1"
        },
        {
          "age": 35,
          "company": "GOLISTIC",
          "createdAt": 1404410556292,
          "email": "cunningham.cain@golistic.com",
          "isActive": true,
          "name": {
            "first": "Cunningham",
            "last": "Cain"
          },
          "picture": "http://lorempixel.com/100/100/people/2"
        },
        {
          "age": 31,
          "company": "ORBIN",
          "createdAt": 1430113300050,
          "email": "romero.moore@orbin.name",
          "isActive": false,
          "name": {
            "first": "Romero",
            "last": "Moore"
          },
          "picture": "http://lorempixel.com/100/100/people/3"
        },
        {
          "age": 22,
          "company": "VINCH",
          "createdAt": 1390328115850,
          "email": "ethel.fry@vinch.me",
          "isActive": false,
          "name": {
            "first": "Ethel",
            "last": "Fry"
          },
          "picture": "http://lorempixel.com/100/100/people/4"
        },
        {
          "age": 20,
          "company": "APEXTRI",
          "createdAt": 1459971085742,
          "email": "jordan.schneider@apextri.org",
          "isActive": false,
          "name": {
            "first": "Jordan",
            "last": "Schneider"
          },
          "picture": "http://lorempixel.com/100/100/people/5"
        },
        {
          "age": 21,
          "company": "GINKOGENE",
          "createdAt": 1399152570355,
          "email": "dyer.velasquez@ginkogene.ca",
          "isActive": false,
          "name": {
            "first": "Dyer",
            "last": "Velasquez"
          },
          "picture": "http://lorempixel.com/100/100/people/6"
        },
        {
          "age": 29,
          "company": "GOGOL",
          "createdAt": 1456433657509,
          "email": "parsons.guerra@gogol.us",
          "isActive": true,
          "name": {
            "first": "Parsons",
            "last": "Guerra"
          },
          "picture": "http://lorempixel.com/100/100/people/7"
        },
        {
          "age": 40,
          "company": "INTERLOO",
          "createdAt": 1430245947888,
          "email": "kristine.mcbride@interloo.biz",
          "isActive": true,
          "name": {
            "first": "Kristine",
            "last": "Mcbride"
          },
          "picture": "http://lorempixel.com/100/100/people/8"
        },
        {
          "age": 40,
          "company": "ENTROPIX",
          "createdAt": 1427075804345,
          "email": "tabatha.gentry@entropix.io",
          "isActive": true,
          "name": {
            "first": "Tabatha",
            "last": "Gentry"
          },
          "picture": "http://lorempixel.com/100/100/people/9"
        },
        {
          "age": 30,
          "company": "SIGNITY",
          "createdAt": 1407492830115,
          "email": "beck.mcdonald@signity.info",
          "isActive": true,
          "name": {
            "first": "Beck",
            "last": "Mcdonald"
          },
          "picture": "http://lorempixel.com/100/100/people/10"
        }
      ];

      var list = document.getElementById('list');
      // Grab the template script
      var accountsTemplateScript = document.getElementById('accounts-template').innerHTML;
      // Compile the template
      var accountsTemplate = Handlebars.compile(accountsTemplateScript);
      // Pass data to the template
      var accountsHtml = accountsTemplate({
        'accounts': accounts,
        'totalAccounts': accounts.length
      });
      // Render result
      list.innerHTML = accountsHtml;
    </script>
  </body>
</html>
